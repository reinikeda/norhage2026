/* =========================================================
   Norhage — Dark Mode (final consolidated)
   Scope: core theme (custom plugins keep their own dark CSS)
   Toggle via: <body class="dark-mode">
   ========================================================= */

/* =========================
   0) Palette / Tokens
   ========================= */
body.dark-mode{
  /* Your palette (kept from current file) */
  --dm-bg:        #20211F; /* site background */
  --dm-surface:   #343530; /* section/card surface */
  --dm-forest:    #14332B; /* deep headers/pressed */
  --dm-text:      #ECEAE6; /* primary text */
  --dm-primary:   #36B47A; /* accent/CTA green */
  --dm-border:    #3E5F50; /* soft border/hover outline */
  --dm-brown:     #C6A58A; /* optional accent */
  --dm-gold:      #E3C58F; /* optional accent */
  --dm-media:     #262724; /* neutral plate behind transparent PNG/AVIF */

  /* Map light UI tokens → dark equivalents (so token-based CSS auto-themes) */
  --ui-text:       var(--dm-text);
  --ui-muted:      color-mix(in srgb, var(--dm-text) 60%, black 40%);
  --ui-border:     var(--dm-border);
  --ui-bg-dark:    var(--dm-forest);
  --ui-bg-primary: var(--dm-primary);
  --ui-bg-soft:    color-mix(in srgb, var(--dm-surface) 65%, var(--dm-forest) 35%);
  --ui-bg-site:    var(--dm-bg);
  --ui-bg-content: var(--dm-surface);

  /* Pagination tokens in dark */
  --pg-text:   var(--dm-text);
  --pg-muted:  var(--ui-muted);
  --pg-green:  var(--dm-primary);
  --pg-cream:  color-mix(in srgb, var(--dm-surface) 75%, #fff 0%);
  --pg-forest: var(--dm-primary);
}

/* =========================
   1) Core base
   ========================= */
body.dark-mode{
  background: var(--ui-bg-site);
  color: var(--ui-text);
}
body.dark-mode a{ color: var(--dm-primary); }
body.dark-mode a:hover{ color: color-mix(in srgb, var(--dm-text) 80%, var(--dm-primary) 20%); }

/* Headings */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4{ color: var(--dm-primary); }

/* Secondary titles used in product page CSS */
body.dark-mode .secondary-title{ color: color-mix(in srgb, var(--dm-text) 70%, var(--dm-primary) 30%); }

/* Dividers */
body.dark-mode hr,
body.dark-mode .divider{ border-color: var(--ui-border); }

/* =========================
   2) Utility bar + News ticker (dark mode)
   ========================= */
body.dark-mode .nh-utility{
  background: var(--dm-elev-1, #1b201e);      /* deeper neutral */
  border-bottom: 1px solid var(--dm-border);
  color: var(--dm-text);
}

/* Links inherit text by default */
body.dark-mode .nh-utility a{
  color: var(--dm-text);
  text-decoration: none;
  transition: color .2s ease;
}
body.dark-mode .nh-utility a:hover{
  color: var(--dm-primary);
}

/* Phone link — make sure the icon lightens */
body.dark-mode .nh-utility__tel{
  color: var(--dm-text);
}
body.dark-mode .nh-utility__tel:hover{
  color: var(--dm-primary);
}
/* Lighten external SVG icon in dark mode */
body.dark-mode .nh-utility__tel img.nh-icon--phone{
  filter: brightness(3) invert(1);
  opacity: 0.9;
  transition: filter .25s ease, opacity .25s ease;
}
body.dark-mode .nh-utility__tel:hover img.nh-icon--phone{
  filter: brightness(3.5) invert(1);
  opacity: 1;
}

/* Separator dot slightly brighter for contrast */
body.dark-mode .nh-utility__sep{
  opacity: .6;
}

/* FAQ link stands out with accent */
body.dark-mode .nh-utility__faq{
  color: var(--dm-primary);
}
body.dark-mode .nh-utility__faq:hover{
  color: #fff;
  text-decoration: underline;
  text-underline-offset: 2px;
}

/* Dark ticker */
body.dark-mode .nh-ticker-wrap{
  background: var(--dm-elev-1, #1b201e);
  border-bottom: 1px solid var(--dm-border);
  color: var(--dm-text);
}

/* =========================
   3) Header (grid) + nav + tools
   ========================= */
body.dark-mode .nhhb-header-main{
  background: var(--ui-bg-dark);
  color:#fff;
  border-bottom: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 4px 16px rgba(0,0,0,.35);
}
body.dark-mode .nhhb-row--top{ border-bottom: 1px solid rgba(255,255,255,.08); }
body.dark-mode .nhhb-main-nav .primary-menu > li > a:hover{ background: rgba(255,255,255,.10); }
body.dark-mode .nhhb-main-nav .primary-menu > li.current-menu-item > a,
body.dark-mode .nhhb-main-nav .primary-menu > li.current_page_parent > a,
body.dark-mode .nhhb-main-nav .primary-menu > li.current-product_cat-ancestor > a{
  background: rgba(255,255,255,.16);
}
body.dark-mode .nh-cart-badge{ box-shadow: 0 0 0 2px var(--ui-bg-dark); }

/* Mobile compact header */
@media (max-width:1023px){
  body.dark-mode #masthead.mh-compact{
    background: var(--dm-forest);
    box-shadow: 0 4px 12px rgba(0,0,0,.35);
  }
  body.dark-mode #masthead.mh-compact .nhhb-main-nav .primary-menu > li > a:hover{
    background: rgba(255,255,255,.10);
  }
}

/* =========================
   4) Live product search (input + results + footer)
   ========================= */
/* Base shell (light variant overridden in dark) */
body.dark-mode .nh-header-search{
  background: var(--ui-bg-content);
  border: 1px solid var(--ui-border);
}
body.dark-mode .nh-header-search input[type="search"]{
  color: var(--dm-text);
}
body.dark-mode .nh-header-search input[type="search"]::placeholder{ color: var(--ui-muted); }

/* Explicit dark helper variant you use in header */
body.dark-mode .nh-header-search--dark{
  background: color-mix(in srgb, #ffffff 6%, var(--dm-surface));
  border: 1px solid color-mix(in srgb, #ffffff 16%, var(--dm-surface));
}
body.dark-mode .nh-header-search--dark button{
  border-left: 1px solid rgba(255,255,255,.12);
}
body.dark-mode .nh-header-search--dark button:hover{ background: rgba(255,255,255,.08); }

/* Results popover */
body.dark-mode :is(.nh-live-results, .nrh-live-search-results){
  background: var(--ui-bg-content);
  border: 1px solid var(--ui-border);
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
body.dark-mode :is(.nh-live-results, .nrh-live-search-results) li{
  border-bottom: 1px solid color-mix(in srgb, var(--ui-border), #000 8%);
}
body.dark-mode :is(.nh-live-results, .nrh-live-search-results) .nh-live-link{ color: var(--dm-text); }
body.dark-mode :is(.nh-live-results, .nrh-live-search-results) .nh-live-link:hover{
  background: color-mix(in srgb, var(--dm-surface) 75%, transparent);
  color: var(--dm-primary);
}
body.dark-mode #nrh-search-results .nh-price,
body.dark-mode #nrh-search-results .nh-price .price{ color: var(--dm-primary); }
body.dark-mode :is(.nh-live-results, .nrh-live-search-results) .no-results{ color: var(--ui-muted); }
body.dark-mode :is(.nh-live-results, .nrh-live-search-results) .nh-live-footer{ border-top: 1px solid var(--ui-border); }
body.dark-mode :is(.nh-live-results, .nrh-live-search-results) .nh-live-more{
  background: var(--dm-forest);
  color: var(--dm-text);
}
body.dark-mode :is(.nh-live-results, .nrh-live-search-results) .nh-live-more:hover{
  background: var(--dm-surface);
  color: var(--dm-primary);
}

/* =========================
   5) Hero
   ========================= */
body.dark-mode .nhhb-hero{
  /* keep the background image defined in light mode */
  background-color: var(--ui-bg-dark);
  background-image: var(--nhhb-hero-bg, none);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* lighten the overlay for better image visibility */
body.dark-mode .nhhb-hero::after{
  background: linear-gradient(
    180deg,
    rgba(0,0,0,.22),
    rgba(0,0,0,.30)
  );
}

body.dark-mode .nhhb-hero__subtitle{ color:#e9efe9; }

body.dark-mode .nhhb-hero__btn{
  background: var(--dm-primary);
  color:#0f2019;
}

body.dark-mode .nhhb-hero__btn:hover{
  background: color-mix(in srgb, var(--dm-primary) 80%, #000 20%);
}

/* optional: slightly stronger overlay just for the home hero */
body.dark-mode .nhhb-hero--home::after{
  background: linear-gradient(
    180deg,
    rgba(0,0,0,.25),
    rgba(0,0,0,.35)
  );
}

/* =========================
   6) Blog nav
   ========================= */
body.dark-mode .blog-category-nav ul li a{ color: var(--dm-text); }
body.dark-mode .blog-category-nav ul li a.active{ background: var(--dm-primary); color:#0f2019; }

/* =========================
   7) Subcategory grid
   ========================= */
body.dark-mode .subcategory-title{ color: var(--dm-text); }
body.dark-mode .subcategory-item span{ color: var(--dm-text); }
body.dark-mode .subcategory-item img{
  border-color: var(--ui-border);
  background: var(--ui-bg-content);
}

/* =========================
   8) Catalog / archive
   ========================= */
body.dark-mode .woocommerce ul.products li.product a.nh-btn-customize{
  display:block; width:100%; text-align:center;
  color:#0f2019; background: var(--dm-primary);
  border:1px solid var(--dm-primary); border-radius:4px; padding:8px 12px;
}
body.dark-mode .woocommerce ul.products li.product a.nh-btn-customize:hover{
  background: color-mix(in srgb, var(--dm-primary) 80%, #000 20%);
  border-color: color-mix(in srgb, var(--dm-primary) 80%, #000 20%);
}

/* =========================
   9) Commerce highlights & forms
   ========================= */
body.dark-mode .price,
body.dark-mode .woocommerce-Price-amount,
body.dark-mode .amount,
body.dark-mode .woocommerce-product-rating{ color: var(--dm-primary); }

body.dark-mode input.qty,
body.dark-mode input[type="number"],
body.dark-mode select,
body.dark-mode textarea,
body.dark-mode input[type="text"],
body.dark-mode input[type="email"],
body.dark-mode input[type="tel"]{
  background: var(--ui-bg-content);
  color: var(--dm-text);
  border: 1px solid var(--ui-border);
  border-radius: 4px;
}

/* Notices */
body.dark-mode .woocommerce-message,
body.dark-mode .woocommerce-info,
body.dark-mode .woocommerce-error{
  background: color-mix(in srgb, var(--dm-forest) 60%, var(--dm-surface) 40%);
  color: var(--dm-text);
  border-left: 4px solid var(--dm-primary);
}

/* =========================
   10) Product page — Attribute & Custom cut
   ========================= */
/* Attribute buttons */
body.dark-mode .variations_form .nh-attr-btn{
  background: var(--ui-bg-content);
  border-color: var(--ui-border) !important;
  color: var(--dm-primary);
}
body.dark-mode .variations_form .nh-attr-btn:not(.is-selected):hover{
  background: color-mix(in srgb, var(--dm-surface) 70%, var(--dm-forest) 30%) !important;
  border-color: var(--dm-primary) !important;
  color: #fff !important;
  transform: translateY(-1px);
}
body.dark-mode .variations_form .nh-attr-btn.is-selected{
  background: var(--dm-primary) !important;
  border-color: var(--dm-primary) !important;
  color: #0f2019 !important;
}
body.dark-mode .variations_form .nh-attr-btn.is-selected:hover{
  background: var(--dm-forest) !important;
  border-color: var(--dm-forest) !important;
  color: #fff !important;
}

/* =========================================
   Custom cut size control — Dark Mode v2
   (4px radius, balanced contrast)
   ========================================= */

body.dark-mode .nh-size-ui .nh-mm-qty {
  display: inline-flex;
  align-items: center;
  height: 38px;
  border-radius: 4px; /* unified radius */
  background: color-mix(in srgb, var(--dm-bg) 92%, var(--dm-forest) 8%);
  border: 1px solid var(--dm-border);
  overflow: hidden;
}

/* – / + buttons */
body.dark-mode .nh-size-ui .nh-mm-qty .minus,
body.dark-mode .nh-size-ui .nh-mm-qty .plus {
  width: 38px;
  height: 38px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--dm-primary);
  background: color-mix(in srgb, var(--dm-surface) 75%, var(--dm-forest) 25%);
  border: 0;
  margin: 0;
  font-weight: 500;
  transition: background .15s ease, color .15s ease;
}
body.dark-mode .nh-size-ui .nh-mm-qty .minus {
  border-right: 1px solid var(--dm-border);
}
body.dark-mode .nh-size-ui .nh-mm-qty .plus {
  border-left: 1px solid var(--dm-border);
}
body.dark-mode .nh-size-ui .nh-mm-qty .minus:hover,
body.dark-mode .nh-size-ui .nh-mm-qty .plus:hover {
  background: var(--dm-primary);
  color: #0f2019;
}

/* Input field */
body.dark-mode .nh-size-ui .nh-mm-qty .nh-mm-input {
  width: 160px; /* fits 250–3050 mm */
  text-align: center;
  background: transparent;
  color: var(--dm-text);
  border: 0;
  outline: none;
  font-weight: 600;
}
body.dark-mode .nh-size-ui .nh-mm-qty .nh-mm-input::placeholder {
  color: color-mix(in srgb, var(--dm-text) 55%, var(--dm-border) 45%);
}

/* Focus ring on container */
body.dark-mode .nh-size-ui .nh-mm-qty:focus-within {
  border-color: var(--dm-primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--dm-primary) 35%, transparent);
}

/* Label color fix */
body.dark-mode .nh-size-ui label,
body.dark-mode .nh-size-ui .nh-mm-label {
  color: color-mix(in srgb, var(--dm-text) 90%, white 10%);
  font-weight: 700;
  letter-spacing: 0.02em;
  opacity: 0.95;
}

/* Disabled buttons */
body.dark-mode .nh-size-ui .nh-mm-qty .minus:disabled,
body.dark-mode .nh-size-ui .nh-mm-qty .plus:disabled {
  opacity: .4;
  pointer-events: none;
}

/* =========================================
   Quantity (+ / –) — Dark Mode (match size UI)
   ========================================= */

/* Wrap both product and bundle qty widgets in one rule */
body.dark-mode .quantity.buttons_added,
body.dark-mode .nh-bundle-qty-wrap {
  display: inline-flex;
  align-items: center;
  height: 38px;
  border-radius: 4px;
  background: color-mix(in srgb, var(--dm-bg) 92%, var(--dm-forest) 8%);
  border: 1px solid var(--dm-border);
  overflow: hidden;
}

/* – / + buttons */
body.dark-mode .quantity.buttons_added .minus,
body.dark-mode .quantity.buttons_added .plus,
body.dark-mode .nh-bundle-qty-wrap .minus,
body.dark-mode .nh-bundle-qty-wrap .plus {
  width: 38px;
  height: 38px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--dm-primary);
  background: color-mix(in srgb, var(--dm-surface) 75%, var(--dm-forest) 25%);
  border: 0;
  margin: 0;
  font-weight: 600;
  line-height: 1;
  text-decoration: none;
  transition: background .15s ease, color .15s ease;
}
body.dark-mode .quantity.buttons_added .minus,
body.dark-mode .nh-bundle-qty-wrap .minus { border-right: 1px solid var(--dm-border); }
body.dark-mode .quantity.buttons_added .plus,
body.dark-mode .nh-bundle-qty-wrap .plus  { border-left: 1px solid var(--dm-border); }

body.dark-mode .quantity.buttons_added .minus:hover,
body.dark-mode .quantity.buttons_added .plus:hover,
body.dark-mode .nh-bundle-qty-wrap .minus:hover,
body.dark-mode .nh-bundle-qty-wrap .plus:hover {
  background: var(--dm-primary);
  color: #0f2019;
}

/* Input */
body.dark-mode .quantity.buttons_added .qty,
body.dark-mode .nh-bundle-qty-wrap .qty {
  width: 56px;              /* enough for 3 digits */
  height: 38px;
  text-align: center;
  background: transparent;  /* same plate as wrapper */
  color: var(--dm-text);
  border: 0;
  margin: 0;
  font-weight: 700;
  outline: none;
}

/* Remove native spinners */
body.dark-mode .quantity.buttons_added .qty::-webkit-outer-spin-button,
body.dark-mode .quantity.buttons_added .qty::-webkit-inner-spin-button,
body.dark-mode .nh-bundle-qty-wrap .qty::-webkit-outer-spin-button,
body.dark-mode .nh-bundle-qty-wrap .qty::-webkit-inner-spin-button {
  -webkit-appearance: none; margin: 0;
}

/* Focus ring on the whole control */
body.dark-mode .quantity.buttons_added:focus-within,
body.dark-mode .nh-bundle-qty-wrap:focus-within {
  border-color: var(--dm-primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--dm-primary) 35%, transparent);
}

/* Disabled state for +/- */
body.dark-mode .quantity.buttons_added .minus:disabled,
body.dark-mode .quantity.buttons_added .plus:disabled,
body.dark-mode .nh-bundle-qty-wrap .minus:disabled,
body.dark-mode .nh-bundle-qty-wrap .plus:disabled {
  opacity: .4; pointer-events: none;
}

/* =========================
   11) Product page — Price summary (flat with page background)
   ========================= */
body.dark-mode .nh-price-summary{
  background: var(--dm-bg);                /* same as website background */
  border: 1px solid var(--dm-border);
  box-shadow: none;
  color: var(--dm-text);
}

body.dark-mode .nh-ps-title{
  background: var(--dm-bg);
  color: var(--dm-text);
}

body.dark-mode .nh-ps-row,
body.dark-mode .nh-ps-total{
  color: var(--dm-text);
}

body.dark-mode .nh-ps-sep{
  border-top: 1px solid var(--dm-border);
}

/* Prices */
body.dark-mode #nh-price-summary .nh-ps-val del,
body.dark-mode #nh-price-summary .nh-ps-total-val del{
  color: color-mix(in srgb, var(--dm-text) 55%, var(--dm-border) 45%);
}

body.dark-mode #nh-price-summary .nh-ps-val ins,
body.dark-mode #nh-price-summary .nh-ps-total-val ins{
  color: var(--dm-text);
}

/* =========================
   12) Bundle box (Complete set — dark mode, flat style)
   ========================= */
body.dark-mode #nc-complete-set.nc-bundle{
  --nc-border: 1px solid var(--dm-border);
  --nc-bg:     var(--dm-bg); /* same as website background */
  --nc-head:   var(--dm-text);
  --nc-row-hover: color-mix(in srgb, var(--dm-bg) 85%, var(--dm-forest) 15%);

  background: var(--nc-bg);
  border: var(--nc-border);
  color: var(--dm-text);
  box-shadow: none;
}

body.dark-mode .nc-bundle-head{
  background: var(--dm-bg);
  color: var(--dm-text);
}

body.dark-mode .nc-bundle-row{
  border-top: var(--nc-border);
}

body.dark-mode .nc-bundle-row:not(.nc-bundle-header):hover{
  background: var(--nc-row-hover);
}

body.dark-mode .nc-bundle-header{
  color: color-mix(in srgb, var(--dm-text) 75%, var(--dm-primary) 25%);
  border-bottom: var(--nc-border);
}

/* Images */
body.dark-mode .nc-col-image img{
  background: var(--dm-media);
  border: 1px solid color-mix(in srgb, var(--dm-border) 85%, white 15%);
}

/* Product titles & prices */
body.dark-mode .nc-title{ color: var(--dm-text); }

body.dark-mode .nc-price-desktop del,
body.dark-mode .nc-price-mobile del{
  color: color-mix(in srgb, var(--dm-text) 55%, var(--dm-border) 45%);
}

body.dark-mode .nc-price-desktop ins,
body.dark-mode .nc-price-mobile ins{
  color: var(--dm-text);
}

/* Stock pills */
body.dark-mode .nc-pill{
  background: color-mix(in srgb, var(--dm-bg) 80%, var(--dm-forest) 20%);
  color: var(--dm-text);
}

body.dark-mode .nc-pill--instock{
  background: color-mix(in srgb, var(--dm-primary) 20%, transparent);
  color: #dff5eb;
}

body.dark-mode .nc-pill--oos{
  background: color-mix(in srgb, #C7563A 30%, transparent);
  color: #FFE6DF;
}

/* Footer bar */
body.dark-mode .nc-bundle-footer{
  background: var(--dm-bg);
  border-top: 1px solid var(--dm-border);
}

body.dark-mode .nc-total{ color: var(--dm-text); }

body.dark-mode .nc-bundle-footer .button{
  background: var(--dm-primary);
  border: 1px solid var(--dm-primary);
  color: #0f2019;
}

body.dark-mode .nc-bundle-footer .button:hover{
  background: var(--dm-forest);
  border-color: var(--dm-forest);
  color: #fff;
}

/* =========================
   13) Tables / Tabs / Lists
   ========================= */

/* Attribute titles (left column) */
body.dark-mode .woocommerce-product-attributes th {
  color: color-mix(in srgb, var(--dm-text) 98%, white 20%) !important;
}

/* Tab titles (Description, Additional info, Reviews) */
body.dark-mode .woocommerce-tabs ul.tabs li a {
  color: color-mix(in srgb, var(--dm-text) 90%, white 10%);
}

body.dark-mode .woocommerce-tabs ul.tabs li.active a,
body.dark-mode .woocommerce-tabs ul.tabs li a[aria-selected="true"] {
  color: color-mix(in srgb, var(--dm-text) 100%, white 25%);
}

/* =========================
   14) Media (product & category images)
   ========================= */
body.dark-mode .woocommerce ul.products li.product img,
body.dark-mode .woocommerce-product-gallery__image img,
body.dark-mode .product-category img{
  background: var(--dm-media);
  border: 1px solid color-mix(in srgb, var(--ui-border) 85%, white 15%);
  border-radius: 6px;
  padding: 6px;
  box-shadow:
    0 2px 6px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.04);
}
body.dark-mode .woocommerce ul.products li.product:hover img,
body.dark-mode .product-category a:hover img{
  background: color-mix(in srgb, var(--dm-media) 80%, var(--dm-surface) 20%);
  border-color: var(--dm-primary);
}
body.dark-mode .woocommerce-loop-product__title,
body.dark-mode .product-category .woocommerce-loop-category__title{
  color: color-mix(in srgb, var(--dm-text) 88%, black 12%);
}

/* =========================
   15) Pagination (Woo) — DARK
   ========================= */
/* Vars + base */
body.dark-mode nav.woocommerce-pagination .page-numbers{
  /* fallbacks in case your DM tokens are missing */
  --dm-surface: var(--dm-surface, #1b1d1b);
  --dm-elev:    color-mix(in srgb, var(--dm-surface) 82%, white 18%);
  --dm-border:  color-mix(in srgb, var(--dm-surface) 65%, white 35%);
  --dm-text:    color-mix(in srgb, white 88%, var(--dm-surface) 12%);
  --dm-text-dim:color-mix(in srgb, white 60%, var(--dm-surface) 40%);
  --dm-ring:    color-mix(in srgb, var(--pg-forest) 55%, white 45%);

  background: var(--dm-elev);
  border: 1px solid var(--dm-border);
  color: var(--dm-text);
  border-radius: 6px;
  box-shadow: none;
  transition:
    background .15s ease,
    border-color .15s ease,
    color .15s ease,
    box-shadow .15s ease,
    transform .15s ease;
}

/* Hover (non-current) */
body.dark-mode nav.woocommerce-pagination a.page-numbers:not(.current):hover{
  background: color-mix(in srgb, var(--dm-elev) 75%, white 25%);
  border-color: color-mix(in srgb, var(--dm-border) 60%, var(--pg-forest) 40%);
  color: #fff;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
}

/* Active/current — high contrast accent */
body.dark-mode nav.woocommerce-pagination .page-numbers.current{
  background: var(--pg-forest);
  border-color: color-mix(in srgb, var(--pg-forest) 85%, white 15%);
  color: #fff; /* fix: was too dark */
  box-shadow: 0 2px 10px rgba(0,0,0,.28);
}
body.dark-mode nav.woocommerce-pagination .page-numbers.current:hover{
  background: color-mix(in srgb, var(--pg-forest) 86%, black 14%);
  border-color: color-mix(in srgb, var(--pg-forest) 92%, white 8%);
  color:#fff;
}

/* Prev/Next links (arrows) */
body.dark-mode nav.woocommerce-pagination a.page-numbers.prev,
body.dark-mode nav.woocommerce-pagination a.page-numbers.next{
  color: color-mix(in srgb, var(--pg-forest) 85%, white 15%);
  font-weight: 600;
}
body.dark-mode nav.woocommerce-pagination a.page-numbers.prev:hover,
body.dark-mode nav.woocommerce-pagination a.page-numbers.next:hover{
  background: color-mix(in srgb, var(--dm-elev) 70%, white 30%);
  border-color: color-mix(in srgb, var(--pg-forest) 70%, white 30%);
  color: #fff;
}

/* Dots */
body.dark-mode nav.woocommerce-pagination .page-numbers.dots{
  background: transparent;
  border: none;
  color: var(--dm-text-dim);
}

/* Focus ring (keyboard) */
body.dark-mode nav.woocommerce-pagination a.page-numbers:focus-visible{
  outline: 2px solid var(--dm-ring);
  outline-offset: 3px;
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--dm-ring) 30%, transparent);
}

/* Disabled */
body.dark-mode nav.woocommerce-pagination .page-numbers[aria-disabled="true"]{
  opacity: .45;
  pointer-events: none;
}

/* Mobile sizing remains consistent with light mode */
@media (max-width: 480px){
  body.dark-mode nav.woocommerce-pagination .page-numbers{
    min-width: 40px;
    height: 40px;
  }
}

/* =========================
   16) Footer (dark mode — simple smooth)
   ========================= */
body.dark-mode .nh-footer{
  background: var(--dm-forest);
  color: #cfd3ce; /* soft light gray instead of pure white */
}

body.dark-mode .nh-footer__top{
  border-bottom: 1px solid rgba(255,255,255,.1);
}

/* Headings */
body.dark-mode .nh-footer__heading{
  color: #9ad3b4; /* muted mint accent */
}

/* Links */
body.dark-mode .nh-footer a{
  color: var(--dm-primary);
  text-decoration: none;
}
body.dark-mode .nh-footer a:hover{
  color: #ffffff;
  text-decoration: underline;
  text-underline-offset: 2px;
}

/* Newsletter */
body.dark-mode .nh-nl__input{
  border: 1px solid rgba(255,255,255,.25);
  background: #121512;
  color: #d9d9d9;
}
body.dark-mode .nh-nl__input::placeholder{
  color: #888;
}
body.dark-mode .nh-nl__btn{
  background: var(--dm-primary);
  color: #0f2019;
}
body.dark-mode .nh-nl__btn:hover{
  background: color-mix(in srgb, var(--dm-primary) 85%, #000 15%);
}

/* B2B button + bottom bar */
body.dark-mode .nh-footer__b2b{
  background: rgba(255,255,255,.1);
  color: #cfd3ce;
}
body.dark-mode .nh-footer__b2b:hover{
  background: rgba(255,255,255,.15);
}

body.dark-mode .nh-footer__bottom{
  border-top: 1px solid rgba(255,255,255,.1);
  color: #9ea39f;
}
body.dark-mode .nh-footer__bottom a{
  color: var(--dm-primary);
}
body.dark-mode .nh-footer__bottom a:hover{
  color: #fff;
}

/* ==== Attribute buttons — force unified dark style ==== */
/* Base (unselected) */
body.dark-mode .variations_form .nh-attr-buttons .nh-attr-btn:not(.is-selected){
  background: color-mix(in srgb, var(--dm-bg) 82%, var(--dm-primary) 18%) !important;
  border-color: color-mix(in srgb, var(--dm-border) 60%, var(--dm-primary) 40%) !important;
  color: var(--dm-text) !important;
}

/* Hover (unselected) */
body.dark-mode .variations_form .nh-attr-buttons .nh-attr-btn:not(.is-selected):hover{
  background: color-mix(in srgb, var(--dm-bg) 70%, var(--dm-primary) 30%) !important;
  border-color: var(--dm-primary) !important;
  color: #fff !important;
  transform: translateY(-1px);
}

/* Active / selected */
body.dark-mode .variations_form .nh-attr-buttons .nh-attr-btn.is-selected{
  background: var(--dm-primary) !important;
  border-color: var(--dm-primary) !important;
  color: #0f2019 !important;
}
body.dark-mode .variations_form .nh-attr-buttons .nh-attr-btn.is-selected:hover{
  background: var(--dm-forest) !important;
  border-color: var(--dm-forest) !important;
  color: #fff !important;
  transform: translateY(-1px);
}

/* Label color (same as “Cutting type”) */
body.dark-mode .variations_form th.label label,
body.dark-mode .variations_form .label label{
  color: color-mix(in srgb, var(--dm-text) 85%, var(--dm-primary) 15%);
  font-weight: 700;
}

/* =========================
   17) Nice-to-haves
   ========================= */
body.dark-mode svg:not([fill]){ fill: currentColor; }
body.dark-mode svg:not([stroke]){ stroke: currentColor; }
body.dark-mode ::-webkit-scrollbar-thumb{ background: color-mix(in srgb, var(--dm-text) 20%, transparent); }
body.dark-mode ::-webkit-scrollbar-track{ background: transparent; }

/* =========================================
   COMPACT HEADER + HAMBURGER — DARK MODE
   (≤1023px only)
   ========================================= */
@media (max-width:1023px){
  /* Header container */
  body.dark-mode #masthead.mh-compact{
    background: var(--dm-forest);
    box-shadow: 0 4px 12px rgba(0,0,0,.35);
  }

  /* Row dividers (subtle) */
  body.dark-mode #masthead.mh-compact .nhhb-row--top{ border-bottom: 1px solid rgba(255,255,255,.08); }

  /* Row-1 icons (account / cart / theme) */
  body.dark-mode #masthead.mh-compact .nhhb-row--top .nhhb-tools--compact{
    color: var(--dm-text);
  }
  body.dark-mode #masthead.mh-compact .nhhb-row--top .nhhb-tools--compact .nh-icon{
    opacity: .95;
  }
  /* Cart badge edge against dark bg */
  body.dark-mode #masthead.mh-compact .nh-cart-badge{
    box-shadow: 0 0 0 2px var(--dm-forest);
  }

  /* Burger (SVG image) */
  body.dark-mode #masthead.mh-compact .nhhb-row--bottom .nh-burger{
    background: transparent !important;
    border: 0 !important;
  }
  body.dark-mode #masthead.mh-compact .nhhb-row--bottom .nh-burger__icon{
    /* force light glyph from dark asset */
    filter: invert(1) brightness(1.35) contrast(1.05);
    opacity: .95;
  }

  /* Search in Row-2 — use your dark helper variant */
  body.dark-mode #masthead.mh-compact .nhhb-row--bottom .nh-header-search{
    background: color-mix(in srgb, #ffffff 6%, var(--dm-surface)) !important;
    border: 1px solid color-mix(in srgb, #ffffff 16%, var(--dm-surface)) !important;
  }
  body.dark-mode #masthead.mh-compact .nhhb-row--bottom .nh-header-search input[type="search"]{
    color: var(--dm-text);
  }
  body.dark-mode #masthead.mh-compact .nhhb-row--bottom .nh-header-search input::placeholder{
    color: var(--ui-muted);
  }
  body.dark-mode #masthead.mh-compact .nhhb-row--bottom .nh-header-search button{
    border-left: 1px solid rgba(255,255,255,.12);
  }
  body.dark-mode #masthead.mh-compact .nhhb-row--bottom .nh-header-search button:hover{
    background: rgba(255,255,255,.08);
  }

  /* ===== Drawer (drop-panel) ===== */

  /* Scrim a bit stronger in dark */
  body.dark-mode .nh-drawer__scrim{ background: rgba(0,0,0,.35); }

  /* Panel surface + typography */
  body.dark-mode .nh-drawer__panel{
    background: color-mix(in srgb, var(--dm-surface) 88%, black 12%);
    color: var(--dm-text);
    /* keep sizing/position from light mode rules */
    box-shadow: 0 18px 40px rgba(0,0,0,.45);
  }

  /* Drawer header + title divider */
  body.dark-mode .nh-drawer__header{
    border-bottom: 1px solid color-mix(in srgb, var(--dm-border), #000 10%);
    background: inherit; color: inherit;
  }

  /* Close button: centered, light pill in dark */
  body.dark-mode .nh-drawer__close{
    display: inline-flex; align-items: center; justify-content: center;
    width: 36px; height: 36px;
    border-radius: 8px;
    background: rgba(255,255,255,.12) !important;
    border: 1px solid rgba(255,255,255,.18) !important;
    color: #fff !important; font-size: 20px; line-height: 1;
  }
  body.dark-mode .nh-drawer__close:hover{
    background: rgba(255,255,255,.18) !important;
    border-color: rgba(255,255,255,.24) !important;
  }

  /* Nav links */
  body.dark-mode .nh-drawer__nav{ padding: 8px 10px 12px; }
  body.dark-mode .nh-drawer__nav .drawer-menu > li > a{
    color: var(--dm-text);
    border-radius: 6px;
  }
  body.dark-mode .nh-drawer__nav .drawer-menu > li > a:hover{
    background: color-mix(in srgb, var(--dm-surface) 75%, var(--dm-forest) 25%);
    color: var(--dm-primary);
  }
  body.dark-mode .nh-drawer__nav .drawer-menu li ul{
    border-left: 2px solid color-mix(in srgb, var(--dm-border), #000 10%);
  }
}
